"0","# Kapitel 4.1: Minimal-Shiny-App"
"0","# -----------------------------"
"0","# Erstelle eine Datei ""app.R"" mit diesem Inhalt"
"0","# und fuehre sie mit ""Run App"" in RStudio aus."
"0",""
"0","library(shiny)"
"0","library(tidyverse)"
"0","library(leaflet)"
"0",""
"0","# UI: Layout"
"0","ui <- fluidPage("
"0","  titlePanel(""Windpark Dashboard""),"
"0","  "
"0","  sidebarLayout("
"0","    sidebarPanel("
"0","      # Einfacher Input: Auswahl nach Betreiber"
"0","      selectInput(""betreiber"", ""Betreiber auswaehlen:"","
"0","                  choices = unique(my_data$Betreiber),"
"0","                  selected = unique(my_data$Betreiber)[1])"
"0","    ),"
"0","    "
"0","    mainPanel("
"0","      # Plot-Output"
"0","      plotOutput(""leistungPlot""),"
"0","      # Leaflet-Karten-Output"
"0","      leafletOutput(""mapPlot"")"
"0","    )"
"0","  )"
"0",")"
"0",""
"0","# Server-Logik"
"0","server <- function(input, output, session) {"
"0","  "
"0","  # Gefilterte Daten"
"0","  filteredData <- reactive({"
"0","    my_data %>% "
"0","      filter(Betreiber == input$betreiber)"
"0","  })"
"0","  "
"0","  # Plot: Balkendiagramm ueber gefilterte Daten"
"0","  output$leistungPlot <- renderPlot({"
"0","    ggplot(filteredData(), aes(x = Windpark.ID,"
"0","                               y = Gesamtleistung..MW.)) +"
"0","      geom_col(fill = ""darkgreen"") +"
"0","      labs(title = paste(""Gesamtleistung MW -"", input$betreiber),"
"0","           x = ""Windpark-ID"","
"0","           y = ""Gesamtleistung (MW)"") +"
"0","      theme_minimal()"
"0","  })"
"0","  "
"0","  # Leaflet-Karte"
"0","  output$mapPlot <- renderLeaflet({"
"0","    leaflet(data = filteredData()) %>%"
"0","      addTiles() %>%"
"0","      addMarkers(~lon, ~lat,"
"0","                 popup = ~paste0(""<b>"", Name.des.Windparks, ""</b><br>"","
"0","                                 ""Leistung: "", Gesamtleistung..MW., "" MW""))"
"0","  })"
"0","}"
"0",""
"0","# App starten"
"0","shinyApp(ui, server)"
"2","
Listening on http://127.0.0.1:5570
"
